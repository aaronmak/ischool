/*! ischool 15-03-2016 */
function toTitleCase(a){return a.replace(/\w\S*/g,function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()})}var map=L.map("map",{zoomControl:!1,maxZoom:17,minZoom:11}).fitBounds([[1.470774832084756,104.08848306516336],[1.158698700635265,103.60543572198932]]),feature_group=new L.featureGroup([]),bounds_group=new L.featureGroup([]),basemap=L.tileLayer("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:' &copy; <a href="http://openstreetmap.org">OpenStreetMap</a>',maxZoom:17}).addTo(map);L.control.zoom({position:"topleft"}).addTo(map),L.control.scale({options:{position:"bottomright",maxWidth:100,metric:!0,imperial:!1,updateWhenIdle:!1}}).addTo(map);var schPref={},manifest={data:{acadEx:0,sportsProg:0,artsProg:0,distCar:0,distPubTrans:0,schGend:0},init:function(a,b){a.html('<h2>What your ideal school needs</h2><label for="acadEx">Academic Excellence</label><div class="slider" id="acadEx"></div><label for="sportsProg">Sports Programs</label><div class="slider" id="sportsProg"></div><label for="artsProg">Arts Programs</label><div class="slider" id="artsProg"></div><label for="distCar">Proximity to Home by Car</label><div class="slider" id="distCar"></div><label for="distPubTrans">Proximity to Home by Public Transport</label><div class="slider" id="distPubTrans"></div><label for="schGend">School Gender</label><div class="slider" id="schGend"></div><span id="sumPref"></span>')},ui:{"#acadEx":{bind:"acadEx",init:function(a,b){a.slider({min:0,max:100})}},"#sportsProg":{bind:"sportsProg",init:function(a,b){a.slider({min:0,max:100})}},"#artsProg":{bind:"artsProg",init:function(a,b){a.slider({min:0,max:100})}},"#distCar":{bind:"distCar",init:function(a,b){a.slider({min:0,max:100})}},"#distPubTrans":{bind:"distPubTrans",init:function(a,b){a.slider({min:0,max:100})}},"#schGend":{bind:"schGend",init:function(a,b){a.slider({min:0,max:100})}},"#sumPref":{bind:function(a){var b=0;for(var c in a)b+=a[c];return b},watch:"#schGend,#distPubTrans,#distCar,#artsProg,#sportsProg,#acadEx"}}};$("#schPrefForm").my(manifest,schPref);